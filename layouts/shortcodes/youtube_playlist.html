{{- $id := .Get "id" -}}
{{- $title := .Get "title" -}}
{{- $thumbPath := .Get "thumbnail" -}}
{{- $sanitizedPath := trim $thumbPath "/" -}}
{{- $img := resources.Get $sanitizedPath -}}

<div class="playlist-container" style="margin-bottom: 20px;">
  <div class="youtube-lazy-load"
       style="cursor: pointer; position: relative; display: block; background: #000; aspect-ratio: 16/9; overflow: hidden; border-radius: 8px; box-shadow: 0 4px 10px rgba(0,0,0,0.2);"
       onclick="this.innerHTML = '<iframe src=\'https://www.youtube.com/embed/videoseries?list={{ $id }}&autoplay=1\' frameborder=\'0\' allow=\'autoplay; encrypted-media\' allowfullscreen style=\'width:100%; height:100%; position:absolute; top:0; left:0;\'></iframe>';">

       {{- if $img -}}
          {{- $webp := $img.Process "webp" -}}
          <img src="{{ $webp.RelPermalink }}" alt="{{ $title }}" loading="lazy" style="width: 100%; height: auto; display: block;">
       {{- else -}}
          <img src="{{ $thumbPath | relURL }}" alt="{{ $title }}" loading="lazy" style="width: 100%; height: auto; display: block;">
       {{- end -}}

       <div style="position: absolute; top: 0; left: 0; width: 100%; height: 100%; display: flex; align-items: center; justify-content: center; background: rgba(0,0,0,0.15); pointer-events: none;">
          <div style="width: 68px; height: 48px; background-color: #ff0000; border-radius: 12px; display: flex; align-items: center; justify-content: center;">
            <div style="width: 0; height: 0; border-style: solid; border-width: 10px 0 10px 18px; border-color: transparent transparent transparent white;"></div>
          </div>
       </div>
  </div>
  <p style="text-align: center; margin-top: 10px; color: #333; font-size: 0.9rem;"><strong>{{ $title }}</strong></p>
</div>